{% extends 'MaestroCoreBundle::default.html.twig' %}
{% block title %}Catalogo de productos{% endblock %}
{% block body %}
{% if app.user %}<div class="row-fluid">
 <div class="span12">
  <div class="tabbable">
   <ul class="nav nav-tabs" id="myTab">
    <li class="active"><a data-toggle="tab" href="#oficial"><i class="green icon-home bigger-110"></i>Listado Oficial </a></li>
    <li class=""><a data-toggle="tab" href="#validar">Pendientes de ser validados</a></li>
    <li class=""><a data-toggle="tab" href="#habilitar">Pendientes de ser habilitados </a></li>
    <li class=""><a data-toggle="tab" href="#denegados"> Denegados <span class="badge badge-important">X</span></a></li>
   </ul>
  <div class="tab-content">
   <div id="denegados" class="tab-pane">
    <table id="sample-table" class="table table-striped table-bordered table-hover">
     <thead>
            <tr>
                <th># SINAB</th>
                <th>Nombre</th>
                <th>Unidad de medida</th>
                <th>Clase de insumo</th>
            </tr>
     </thead>
     <tbody>
        {% for ctlInsumo in denegados %}
            <tr>
                <td>{{ ctlInsumo.codigoSinab }}</td>
                <td>{{ ctlInsumo.nombreLargoInsumo }}</td>
                <td>{{ ctlInsumo.codificacionInsumo }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
            </tr>
        {% endfor %}
     </tbody>
    </table>
   </div>
   <div id="oficial" class="tab-pane active">
    <table id="sample-table" class="table table-striped table-bordered table-hover">
     <thead>
            <tr>
                <th># SINAB</th>
                <th>Nombre</th>
                <th>Unidad de medida</th>
                <th>Clase de insumo</th>
                <th>Codificacion 128</th>
            </tr>
     </thead>
     <tbody>
        {% for ctlInsumo in ctlInsumos %}
            <tr>
                <td><a href="{{ path('insumo_show', { 'id': ctlInsumo.id }) }}">{{ ctlInsumo.codigoSinab }} <i class="icon-show bigger-120"></i></a></td>
                <td>{{ ctlInsumo.nombreLargoInsumo }}</td>
                <td>{{ ctlInsumo.codificacionInsumo }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
                <td>
                 <div>
                  <img id="barcode{{ctlInsumo.id}}"/>
                  <script>JsBarcode("#barcode{{ctlInsumo.id}}", "{{ ctlInsumo.codigoSinab }}", {  displayValue: false });</script>
                 </div>
                </td>
            </tr>
            </tr>
        {% endfor %}
     </tbody>
    </table>
   </div>
   <div id="habilitar" class="tab-pane">
    <table id="sample-table" class="table table-striped table-bordered table-hover">
     <thead>
            <tr>
                <th># SINAB</th>
                <th>Nombre</th>
                <th>Unidad de medida</th>
                <th>Clase de insumo</th>
                <th>Codificacion 128</th>
            </tr>
     </thead>
     <tbody>
        {% for ctlInsumo in denegados %}
            <tr>
                <td><a href="{{ path('insumo_show', { 'id': ctlInsumo.id }) }}">{{ ctlInsumo.codigoSinab }} <i class="icon-show bigger-120"></i></a></td>
                <td>{{ ctlInsumo.nombreLargoInsumo }}</td>
                <td>{{ ctlInsumo.codificacionInsumo }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
            </tr>
        {% endfor %}
     </tbody>
    </table>
   </div>
   <div id="validar" class="tab-pane">
    <table id="sample-table" class="table table-striped table-bordered table-hover">
     <thead>
            <tr>
                <th># SINAB</th>
                <th>Nombre</th>
                <th>Unidad de medida</th>
                <th>Clase de insumo</th>
                <th>Codificacion 128</th>
            </tr>
     </thead>
     <tbody>
        {% for ctlInsumo in habilita %}
            <tr>
                <td><a href="{{ path('insumo_show', { 'id': ctlInsumo.id }) }}">{{ ctlInsumo.codigoSinab }} <i class="icon-show bigger-120"></i></a></td>
                <td>{{ ctlInsumo.nombreLargoInsumo }}</td>
                <td>{{ ctlInsumo.codificacionInsumo }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
            </tr>
        {% endfor %}
     </tbody>
    </table>
   </div>
  </div>
 </div>
</div>
{% else  %}
    <table id="sample-table" class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th># SINAB</th>
                <th>Nombre</th>
                <th>Unidad de medida</th>
                <th>Clase de insumo</th>
                <th>Codificacion 128</th>
            </tr>
        </thead>
        <tbody>
        {% for ctlInsumo in ctlInsumos %}
            <tr>
                <td>{{ ctlInsumo.codigoSinab }}</td><!--<a href="{{ path('insumo_show', { 'id': ctlInsumo.id }) }}">{{ ctlInsumo.nombreLargoInsumo }} <i class="icon-show bigger-120"></i></a>-->
                <td>{{ ctlInsumo.nombreLargoInsumo }}</td>
                <td>{{ ctlInsumo.codificacionInsumo }}</td>
                <td>{{ ctlInsumo.ctlUnidadMedidaid }}</td>
                <td>
                 <div>
                  <img id="barcode{{ctlInsumo.id}}"/>
                  <script>JsBarcode("#barcode{{ctlInsumo.id}}", "{{ ctlInsumo.codigoSinab }}", {  displayValue: false });</script>
                 </div>
                </td>
            </tr>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <section id="container" class="container">
      <div id="result_strip"><ul class="thumbnails"></ul><ul class="collector"></ul></div>
      <div id="interactive" class="viewport"></div>
    </section>
{% endif %}
{% endblock %}
{% block footer_js %}
  <script type="text/javascript">$(function(){ var oTable2 = $('#sample-table').dataTable(); })</script>
  <script src="{{ asset('assets/') }}js/quaggaJS-master/example/vendor/jquery-1.9.0.min.js" type="text/javascript"></script>
  <script src="//webrtc.github.io/adapter/adapter-latest.js" type="text/javascript"></script>
  <script src="{{ asset('assets/') }}js/quaggaJS-master/dist/quagga.js" type="text/javascript"></script>
  <script src="{{ asset('assets/') }}js/quaggaJS-master/example/live_w_locator.js" type="text/javascript"></script>
{% endblock %}

{% block head_js %}
  <script src="{{ asset('assets/') }}js/barcode/JsBarcode.all.js"></script>
  <script>
		Number.prototype.zeroPadding = function(){
			var ret = "" + this.valueOf();
			return ret.length == 1 ? "0" + ret : ret;
		};
  </script>
{% endblock %}
